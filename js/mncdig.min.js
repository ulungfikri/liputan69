function mncdigAjaxAuth(e,n){var t=mncdigGetCookie("ZxnsQxZ6IoI22OoX");if(t&&t.length>38&&(t="",document.cookie="mncdigck=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",document.cookie="ZxnsQxZ6IoI22OoX=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"),""!==t)return void mncdigAjaxAuthEx(e,n);var o=document.documentElement,i=document.createElement("iframe");i.setAttribute("src",getFpGenUrl()),i.setAttribute("style","display:none"),o.appendChild(i),gAjaxTarget=e,gOnResp=n}function mncdigAjaxAuthEx(e,n){var t=mncdigGetCookie("mncdigck"),o=mncdigGetCookie("ZxnsQxZ6IoI22OoX");if(""===t&&""===o&&void 0!=n)return void n(10,null,"user not login yet");var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){if(4==i.readyState){if(200!=i.status)return;console.log("responseText:",i.responseText);try{var e=JSON.parse(i.responseText);11==e.status||13==e.status?(void 0!==e.data.cval&&void 0!==e.data.cexp&&(document.cookie="mncdigck="+e.data.cval+"; expires="+e.data.cexp+"; path=/"),n&&n(e.status,e.data.profile,e.message)):12==e.status||10==e.status?(document.cookie="mncdigck=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",n&&n(e.status,e.data,e.message)):n&&n(e.status,e.data,e.message)}catch(t){console.log("authException: "+t)}}},i.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=""===t?"ck=&sw="+o:"ck="+encodeURIComponent(t)+"&sw="+o;i.send(r)}function mncdigAuth(e,n){var t=mncdigGetCookie("ZxnsQxZ6IoI22OoX");if(t&&t.length>38&&(t="",document.cookie="mncdigck=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",document.cookie="ZxnsQxZ6IoI22OoX=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;"),gClientKey=n,gRedirUrl=document.location.href,gEmail=e,""===t){var o=document.documentElement,i=document.createElement("iframe");return i.setAttribute("src",getFpGenUrl()),i.setAttribute("style","display:none"),void o.appendChild(i)}mncdigAuthEx()}function mncdigAuthEx(){var e=document.documentElement,n=document.createElement("iframe");n.setAttribute("src",getFpAuthUrl()+"?ck="+gClientKey+"&em="+encodeURIComponent(gEmail)),n.setAttribute("style","display:none"),e.appendChild(n)}function mncdigLogin(e){clientkey=e||document.location.href;var n=clientkey.indexOf("http");return-1!=n?void(window.location=getSsoOrigin()+"/login?r="+encodeURIComponent(clientkey)):void(window.location=getSsoOrigin()+"/login?ck="+clientkey+"&r="+encodeURIComponent(document.location.href))}function mncdigRegister(){window.location.href=getSsoOrigin()+"/register?r="+encodeURIComponent(document.location.href)}function mncdigProfile(){window.location.href=getSsoOrigin()+"/profile?r="+encodeURIComponent(document.location.href)}function mncdigLogout(){window.location.href=getSsoOrigin()+"/logout?r="+encodeURIComponent(document.location.href)}var gClientKey,gRedirUrl,gEmail,gOnResp=void 0,gAjaxTarget=void 0,getSsoOrigin=function(){return atob("aHR0cDovL2Rldi5tbmNkaWdpdGFsLmluZm8=")},getFpGenUrl=function(){return getSsoOrigin()+atob("L2ZwZ2VuL1FmbHV4NWNHY3YyMWs1MDhyUTA3ZFV4RzhKakhkbWpa")},getFpAuthUrl=function(){return getSsoOrigin()+atob("L2ZwYXV0aC9NemR2MklBUzdPcXRPZThPWFV6RDBOajdqRmxlOThYcg==")},mncdigGetCookie=function(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return""};window.onload=function(){return window.addEventListener?void window.addEventListener("message",function(e){if(e.origin!==getSsoOrigin())return void console.log("invalid origin");var n=e.data;console.log("edata:",n);try{var t=JSON.parse(n);if("gen"===t.fp){if("visitRequired"===t.res){var o=getFpGenUrl()+"?r="+encodeURIComponent(window.document.location);return void(document.location.href=o)}if("sessionLost"===t.res)return void(document.cookie="mncdigck=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;");var i=new Date((new Date).getTime()+12096e5).toUTCString();return document.cookie="ZxnsQxZ6IoI22OoX="+encodeURIComponent(t.res)+"; expires="+i+"; path=/",void 0!=gOnResp&&void 0!=gAjaxTarget?void mncdigAjaxAuthEx(gAjaxTarget,gOnResp):void mncdigAuthEx()}if("needLogin"===t.res)return;if("justLogout"===t.res)return document.cookie="mncdigck=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",void window.location.reload(!0);if("shouldLogin"===t.res)return void mncdigLogin(gClientKey,gRedirUrl);if("wasLoginAlready"===t.res){var r=mncdigGetCookie("mncdigck");if(r==t.cval)return;var i=new Date((new Date).getTime()+12096e5).toUTCString();return void(document.cookie="mncdigck="+t.cval+"; expires="+i+"; path=/")}}catch(e){console.log("window.onload json parse error. e:",e)}},!1):void console.log("window.addEventListener doesn't exist")};